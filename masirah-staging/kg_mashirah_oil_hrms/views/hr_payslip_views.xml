<odoo>
    <data>
        <record id="view_hr_payslip_form_custom" model="ir.ui.view">
            <field name="name">hr.payslip.form.custom</field>
            <field name="model">hr.payslip</field>
            <field name="inherit_id" ref="hr_payroll.view_hr_payslip_form"/>
            <field name="arch" type="xml">
                <xpath expr="//header/button[@name='action_payslip_done']" position="after">
                    <button string="Send by mail" class="oe_highlight" type="object" name="action_send_by_mail"/>
                </xpath>
                <xpath expr="//button[@name='action_payslip_done']" position="attributes">
                    <attribute name="groups">hr_payroll.group_hr_payroll_manager</attribute>
                </xpath>
                <xpath expr="//group[@col='4']" position="replace">
                    <group>
                        <group>
                            <label for="date_from" string="Period"/>
                            <div>
                                <field name="date_from" class="oe_inline"
                                       readonly="state in ['cancel', 'done', 'paid']"/>
                                -
                                <field name="date_to" class="oe_inline" readonly="state in ['cancel', 'done', 'paid']"/>
                            </div>
                            <field name="company_id" invisible="1"/>
                            <field name="contract_id" context="{'default_employee_id': employee_id}" required="1"
                                   readonly="state in ['cancel', 'done', 'paid']"/>
                            <field name="country_id" invisible="1"/>
                            <field name="country_code" invisible="1"/>
                            <field name="payslip_run_id" string="Batch" readonly="state not in ['draft', 'verify']"/>
                            <field name="struct_id" required="1" readonly="state in ['cancel', 'done', 'paid']"/>
                            <field name="salary_attachment_ids" invisible="1" force_save="1"/>
                            <field name="wage_type" invisible="1"/>
                            <field name="sum_worked_hours" invisible="1"/>
                            <field name="credit_note" invisible="1" readonly="state not in ['draft', 'verify']"/>
                            <field name="is_superuser" invisible="1"/>
                            <field name="has_refund_slip" invisible="1"/>
                            <field name="use_worked_day_lines" invisible="1"/>
                        </group>
                        <group>
                            <field name="flight_ticket_duration" readonly="1" force_save="1" invisible="1"/>
                            <field name="hotel_duration" readonly="1" force_save="1" invisible="1"/>
                            <field name="total_sick_leaves" readonly="1" force_save="1"/>
                            <field name="offshore_duration" force_save="1"/>
                            <field name="unpaid_days" force_save="1"/>
                            <field name="sick_deduction_amount" invisible="1"/>
                            <field name="overtime_ids" invisible="1" widget="many2many_tags"/>
                            <field name="days_no_tmp" invisible="1"/>
                            <field name="ot_amount" invisible="0" force_save="1" readonly="1"/>
                        </group>
                    </group>
                </xpath>
            </field>
        </record>

        <record id="kg_view_hr_payslip_search_view_inherit" model="ir.ui.view">
        <field name="name">kg.hr.payslip.search.view.inherit</field>
        <field name="model">hr.payslip</field>
        <field name="inherit_id" ref="hr_payroll.view_hr_payslip_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='employee_id']" position="after">
                <field name="employee_id" string="Employee No." filter_domain="[('employee_id.registration_number', 'ilike', self)]"/>
            </xpath>
        </field>
    </record>
    </data>
</odoo>