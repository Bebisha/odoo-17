<odoo>
    <data>
        <record id="kg_debit_note" model="ir.actions.report">
            <field name="name">Debit Note</field>
            <field name="model">account.move</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kg_mashirah_oil_accounting.report_debit_note_template</field>
            <field name="report_file">kg_mashirah_oil_accounting.report_debit_note_template</field>
            <field name="binding_model_id" ref="account.model_account_move"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="kg_mashirah_oil_accounting.kg_paper_format_debit_note"/>
        </record>
        <record id="kg_payment_voucher" model="ir.actions.report">
            <field name="name">Payment Voucher</field>
            <field name="model">account.payment</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kg_mashirah_oil_accounting.report_payment_voucher_template</field>
            <field name="report_file">kg_mashirah_oil_accounting.report_payment_voucher_template</field>
            <field name="binding_model_id" ref="account.model_account_payment"/>
            <field name="binding_type">report</field>
        </record>

        <record id="kg_journal_voucher_report" model="ir.actions.report">
            <field name="name">Journal Voucher</field>
            <field name="model">account.move</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kg_mashirah_oil_accounting.journal_voucher_report_template</field>
            <field name="report_file">kg_mashirah_oil_accounting.journal_voucher_report_template</field>
            <field name="binding_model_id" ref="account.model_account_move"/>
            <field name="binding_type">report</field>
        </record>

        <record id="kg_day_book_report_action" model="ir.actions.report">
            <field name="name">Day Book Report</field>
            <field name="model">day.book.report.wizard</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kg_mashirah_oil_accounting.kg_day_book_report_template</field>
            <field name="report_file">kg_mashirah_oil_accounting.kg_day_book_report_template</field>
            <field name="print_report_name">Day Book Report</field>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="kg_mashirah_oil_accounting.kg_paperformat_day_book"/>
        </record>

        <template id="new_report_subtotal_template">
            <t t-set="show_company_taxes" t-value="o.company_id.currency_id != o.currency_id and o.amount_tax != 0 and o.move_type in ['out_invoice', 'out_refund']"/>
            <div t-if="not show_company_taxes" class="oe_structure"></div>
            <div class="mb-2 mt-3 border p-2 avoid-page-break-inside totals_taxes_company_currency"
                 t-else="">
                <table class="table table-sm table-borderless mb-0">
                    <p class="tax_computation_company_currency">
                        Taxes <span t-field="o.company_currency_id"/>
                    </p>
                    <t t-foreach="tax_totals['subtotals']" t-as="subtotal">
                        <tr class="border-black o_subtotal">
                            <td><strong t-out="subtotal['name']">Untaxed amount</strong></td>
                            <td class="text-end">
                                <span
                                    t-out="subtotal['amount_company_currency']"
                                    t-options='{"widget": "monetary", "display_currency": o.company_currency_id}'
                                >27.00</span>
                            </td>
                        </tr>
                        <t t-set="subtotal_to_show" t-value="subtotal['name']"/>
                        <t t-foreach="tax_totals['groups_by_subtotal'][subtotal_to_show]" t-as="amount_by_group">
                            <tr>
                                <t t-if="tax_totals['display_tax_base']">
                                    <td>
                                        <span t-out="amount_by_group['tax_group_name']">Tax 15%</span>
                                         on
                                        <span class="text-nowrap" t-out="amount_by_group['tax_group_base_amount_company_currency']"
                                               t-options='{"widget": "monetary", "display_currency": o.company_currency_id}'>
                                               27.00
                                        </span>
                                    </td>
                                    <td class="text-end o_price_total">
                                        <span class="text-nowrap"
                                              t-out="amount_by_group['tax_group_amount_company_currency']"
                                              t-options='{"widget": "monetary", "display_currency": o.company_currency_id}'
                                        >4.05</span>
                                    </td>
                                </t>
                                <t t-else="">
                                    <td><span class="text-nowrap" t-out="amount_by_group['tax_group_name']"/></td>
                                    <td class="text-end o_price_total">
                                        <span class="text-nowrap"
                                              t-out="amount_by_group['tax_group_amount_company_currency']"
                                              t-options='{"widget": "monetary", "display_currency": o.company_currency_id}'
                                        >31.05</span>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </t>
                    <!--Total amount with all taxes-->
                    <tr class="border-black o_total">
                        <td><strong>Total</strong></td>
                        <td class="text-end">
                            <span t-out="abs(o.amount_total_signed)"
                                  t-options='{"widget": "monetary", "display_currency": o.company_currency_id}'>
                            31.05</span>
                        </td>
                    </tr>
                </table>
            </div>
        </template>
    </data>
</odoo>