<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_emulator_licence_menu" model="ir.actions.act_window">
        <field name="type">ir.actions.act_window</field>
        <field name="name">Emulator License Code</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{"search_default_active":1}</field>
        <field name="res_model">emulator.licence</field>

    </record>
    <record id="action_emulator_licence_form" model="ir.ui.view">
        <field name="name">emulator.licence.form</field>
        <field name="model">emulator.licence</field>
        <field name="arch" type="xml">
            <form string="Emulator Licence">
                <header>
                    <field name="state" widget="statusbar" status_visible="new,allocated,expire"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="emulator_licence_type"/>
                            <field name="act_date"/>
                            <field name="allocated_date" invisible ="1"/>
                        </group>
                        <group>
                            <field name="start_date"/>
                            <field name="end_date"/>
                            <field name="allocated_teacher"/>
                            <field name="active" eval="False" invisible ="1"/>
                            <field name="is_new_allocated" />
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    <record id="action_emulator_licence_menu_tree" model="ir.ui.view">
        <field name="name">emulator.licence.tree</field>
        <field name="model">emulator.licence</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="emulator_licence_type"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="act_date"/>
                <field name="allocated_teacher"/>
                <field name="state" optional="hide"/>
                <field name="allocated_date" column_invisible ="1"/>
            </tree>

        </field>
    </record>
    <record id="action_emulator_licence_menu_search" model="ir.ui.view">
        <field name="name">emulator.licence.search</field>
        <field name="model">emulator.licence</field>
        <field name="arch" type="xml">
            <search>
                <filter name="active" string="New/Unallocated Emulator Licenses" domain="[('active','=',True),('state','=','new')]"/>
                <filter name="is_new_allocated" string="Allocated Emulator License"
                        domain="[('state', '=', 'allocated'),('is_first_register','=',True)]"/>
                <filter name="inactive" string="Expired Emulator License" domain="[('is_first_register','=',True),('state','=','expire')]"/>
            </search>
        </field>
    </record>
    <menuitem id="emulator_licence_menu"
              name="Emulator License Code"
              parent="emulator_licence_menu_root"
              action="action_emulator_licence_menu"
              sequence="1"
    />
</odoo>