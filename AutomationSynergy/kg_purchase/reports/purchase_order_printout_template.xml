<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="purchase_order_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <div class="header">
                        <table class='table table-borderless table-condensed table-hover' width="100%">
                            <tr>
                                <td width="20%">
                                    <img t-if='o.company_id.logo'
                                         t-att-src='image_data_uri(o.company_id.logo)'
                                         alt='Logo' style="max-width: 150px; max-height: 100px;"/>
                                </td>
                                <td width="40%">
                                    <strong t-esc="o.company_id.name"/>
                                    <br/>
                                    <t t-if="o.company_id.partner_id.zip"><span
                                            t-esc="o.company_id.partner_id.zip"/>,
                                    </t>
                                    <t t-if="o.company_id.partner_id.street"><span
                                            t-esc="o.company_id.partner_id.street"/>,
                                    </t>
                                    <t t-if="o.company_id.partner_id.street2"><span
                                            t-esc="o.company_id.partner_id.street2"/>,
                                    </t>
                                    <t t-if="o.company_id.partner_id.city"><span
                                            t-esc="o.company_id.partner_id.city"/>,
                                    </t>
                                    <t t-if="o.company_id.partner_id.country_id"><span
                                            t-esc="o.company_id.partner_id.country_id.name"/>,
                                    </t>
                                    <br/>
                                    Phone/Fax:
                                    <t t-if="o.company_id.phone">
                                        <span t-field="o.company_id.phone"/>
                                        <t t-if="o.company_id.mobile">/</t>
                                    </t>
                                    <t t-if="o.company_id.mobile">
                                        <span t-field="o.company_id.mobile"/>
                                    </t>
                                </td>
                                <td width="30%">
                                    <strong>PURCHASE ORDER</strong>
                                    <br/>
                                    <strong>TRN:
                                        <t t-esc="o.company_id.vat"/>
                                    </strong>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <style>
                        table,td,th {
                        border:1px solid;
                        font-size:12px;
                        border-collapse: collapse; }
                        td,th {
                        padding:5px
                        }
                    </style>
                    <div>
                        <table width="100%" class="table table-borderless" style="border:none;">
                            <tr style="border:none;">
                                <td width="35%" style="border:none;">
                                    <strong>Name:</strong>
                                </td>
                                <!--                                <td width="30%"/>-->
                                <td width="30%" style="border:none;">
                                    <strong>Delivered To:</strong>
                                </td>
                                <td width="15%" style="border:none;">
                                    PO No.:
                                    <!--                                    <t t-esc="o.name"/>-->
                                </td>
                                <td width="19%" style="border:none;">
                                    <t t-esc="o.name"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;">
                                    <t t-if="o.partner_id">
                                        <t t-esc="o.partner_id.name"/>
                                    </t>
                                </td>
                                <td style="border:none;">
                                    <t t-if="o.dest_address_id">

                                        <t t-esc="o.dest_address_id.name"/>
                                    </t>
                                </td>
                                <td style="border:none;">

                                    PO Date:


                                </td>
                                <td style="border:none;">
                                    <t t-if="o.state=='done'">
                                        <t t-esc="o.date_approve.strftime('%d %b %y')"/>
                                    </t>
                                    <t t-if="o.state!='done'">
                                        <t t-esc="o.date_order.strftime('%d %b %y')"/>
                                    </t>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;">
                                    <t t-if="o.partner_id">
                                        <t t-esc="o.partner_id.street"/>

                                    </t>
                                </td>
                                <td style="border:none;">
                                    <t t-if="o.dest_address_id">
                                        <t t-esc="o.dest_address_id.street"/>

                                    </t>
                                </td>

                                <td style="border:none;">
                                    <span>PJT/SO/PR No.:
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <t t-esc="o.project_id.name"/>

                                </td>

                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;">
                                    <t t-if="o.partner_id">
                                        <t t-if="o.partner_id.state_id.name"><t
                                                t-esc="o.partner_id.state_id.name"/>,
                                        </t>
                                    </t>
                                    <t t-if="o.partner_id.country_id.name">
                                        <t t-esc="o.partner_id.country_id.name"/>
                                    </t>
                                </td>
                                <td style="border:none;">
                                    <t t-if="o.dest_address_id">
                                        <t t-if="o.dest_address_id.state_id.name"><t
                                                t-esc="o.dest_address_id.state_id.name"/>,
                                        </t>
                                    </t>
                                    <t t-if="o.dest_address_id.country_id.name">
                                        <t t-esc="o.dest_address_id.country_id.name"/>
                                    </t>
                                </td>
                                <td style="border:none;">
                                    Payment Terms :

                                </td>
                                <td style="border:none;">
                                    <t t-if="o.payment_term_id">
                                        <t t-esc="o.payment_term_id.name"/>
                                    </t>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;">
                                    <span>ATTN:
                                        <t t-if="o.partner_id">
                                            <t t-if="o.partner_id.attention"><t
                                                    t-esc="o.partner_id.attention"/>,
                                            </t>
                                        </t>
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <span>ATTN:
                                        <t t-if="o.dest_address_id">
                                            <t t-if="o.dest_address_id.attention"><t
                                                    t-esc="o.dest_address_id.attention"/>,
                                            </t>
                                        </t>
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <span>Delivery Terms :

                                    </span>
                                </td>
                                <td style="border:none;">
                                    <t t-if="o.incoterm_id">
                                        <t t-esc="o.incoterm_id.name"/>
                                    </t>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;">
                                    <span>Contact No.:
                                        <t t-if="o.partner_id">
                                            <t t-if="o.partner_id.phone"><t
                                                    t-esc="o.dest_address_id.phone"/>,
                                            </t>
                                        </t>
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <span>Contact No.:
                                        <t t-if="o.dest_address_id">
                                            <t t-if="o.dest_address_id.phone"><t
                                                    t-esc="o.dest_address_id.phone"/>,
                                            </t>
                                        </t>
                                    </span>
                                </td>
                                <td style="border:none;" colspan="2">

                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td colspan="2" style="border:none;"/>
                                <td style="border:none;">
                                    <span>Quote No. :
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <t t-esc="o.rfq_number"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td colspan="2" style="border:none;">

                                    <span>TRN:
                                        <t t-if="o.partner_id.vat">
                                            <t t-esc="o.partner_id.vat"/>
                                        </t>
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <span>Quote Date :
                                    </span>
                                </td>
                                <td style="border:none;">
                                    <t t-esc="o.date_order.strftime('%d %b %y')"/>

                                </td>
                            </tr>
                        </table>
                        <table width="100%" border="1" style="border-collapse:collapse; font-size:11px;">
                            <tr>
                                <td>
                                    <strong>P.O. NO.</strong>
                                </td>
                                <td>
                                    <t t-esc="o.name"/>
                                </td>
                                <td>
                                    <strong>P.O. DATE</strong>
                                </td>
                                <td>
                                    <t t-esc="o.date_order.strftime('%d-%b-%Y') if o.date_order else ''"/>
                                </td>
                                <td>
                                    <strong>VENDOR CODE</strong>
                                </td>
                                <td>
                                    <t t-esc="o.partner_id.vendor_sequence or ''"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>TERMS</strong>
                                </td>
                                <td colspan="2">
                                    <t t-esc="o.payment_term_id.name or ''"/>
                                </td>
                                <td>
                                    <strong>SHIPMENT MODE</strong>
                                </td>
                                <td colspan="2">
                                    <t t-esc="o.incoterm_id.name or 'ROAD'"/>
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <t t-set="count" t-value="0"/>

                        <table width='100%' class="table table-bordered" style="font-size:12px;" valign="middle">
                            <thead>
                                <tr>
                                    <th valign="middle" style="font-size:12px;">NO.</th>
                                    <th valign="middle" style="font-size:12px;">DESCRIPTION OF SERVICE / ITEM</th>
                                    <th valign="middle" style="font-size:12px;">MAKE</th>
                                    <th valign="middle" style="font-size:12px;">MODEL</th>
                                    <th valign="middle" style="font-size:12px;">QTY</th>
                                    <th valign="middle" style="font-size:12px;">UOM</th>
                                    <th valign="middle" style="font-size:12px;">UNIT PRICE (EUR)</th>
                                    <th valign="middle" style="font-size:12px;">TOTAL PRICE (EUR)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr t-foreach="o.order_line" t-as="line">
                                    <td align="center">
                                        <t t-set="count" t-value="count+1"/>
                                        <t t-esc="count"/>
                                    </td>
                                    <td>
                                        <t t-esc="line.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="line.product_id.brand_id.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="line.product_id.model_id.name"/>
                                    </td>
                                    <td align="center">
                                        <t t-esc="'%.0f' % line.product_qty"/>
                                    </td>
                                    <td>
                                        <t t-esc="line.product_uom.name"/>
                                    </td>
                                    <td align="right">
                                        <t t-esc="'%.2f' % line.price_unit"/>
                                    </td>
                                    <td align="right">
                                        <t t-esc="'%.2f' % line.price_subtotal"/>
                                    </td>
                                </tr>
                                <tr height="25px">
                                    <td colspan="2" height="15px"/>
                                    <td/>
                                    <td/>
                                    <td/>
                                    <td/>
                                    <td/>
                                    <td/>
                                </tr>
                                <tr>
                                    <td colspan="4" style="border:none;"/>
                                    <td style="border-left: 1px solid black;border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="center">
                                        TOTAL AMOUNT
                                    </td>
                                    <td style="border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="center">EUR
                                    </td>
                                    <td style="border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="right"
                                        colspan="2">
                                        <t t-esc="'%.2f' % o.amount_untaxed"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="border:none;">
                                        <strong>
                                            DELIVERY DATE :
                                        </strong>
                                        <t t-if="o.delivery_date">
                                            <t t-esc="o.delivery_date.strftime('%d/%m/%Y')"/>
                                        </t>
                                    </td>
                                    <td style="border-left: 1px solid black;border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="center">
                                        VAT @ 5%
                                    </td>
                                    <td style="border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="center">EUR
                                    </td>
                                    <td style="border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="right"
                                        colspan="2">
                                        <t t-esc="'%.2f' % o.amount_tax"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="border:none;">
                                        <strong>NOTES :</strong>
                                    </td>
                                    <td style="border-left: 1px solid black;border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="center">
                                        TOTAL WITH VAT
                                    </td>
                                    <td style="border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="center">USD
                                    </td>
                                    <td style="border-right: 1px solid black;border-bottom: 1px solid black;"
                                        align="right"
                                        colspan="2">
                                        <t t-esc="'%.2f' % o.amount_total"/>
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                        <table width="100%" style="margin-top:50px;border:none;">
                            <tr style="border:none;">
                                <td style="border:none;" width="50%"/>
                                <!--                               -->
                                <td style="border:none;">
                                    <t t-if="o.sudo().company_id.seal">
                                        <img t-att-src="image_data_uri(o.company_id.seal)"
                                             style="max-height: 2cm; max-width: 4cm;"/>
                                    </t>
                                </td>
                                <td style="border:none;">
                                    <t t-if="o.sudo().create_uid.sign_signature">
                                        <img t-att-src="image_data_uri(o.sudo().create_uid.sign_signature)"
                                             style="max-height: 4cm; max-width: 8cm;"/>
                                    </t>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;"/>
                                <td style="border:none;" colspan="2">
                                    <span>AUTHORISED SIGNATORY :
                                        <t t-esc="o.create_uid.name"/>
                                    </span>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="border:none;"/>
                                <td colspan="2" style="border:none;">
                                    <span>POSITION :
                                        <t t-esc="o.create_uid.partner_id.function"/>
                                    </span>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td style="font-size:10px;border:none;" colspan="3">
                                    FOR PO TERMS AND CONDITIONS SEE OVERLEAF
                                </td>
                            </tr>
                        </table>
                        <!--                        <div class="page-break"/>-->
                        <!--                        <div class="page">-->
                        <!--                            <t t-esc="o.custom_terms_conditions"/>-->
                        <!--                        </div>-->
                    </div>
                    <!-- Terms & Conditions -->
                    <div style="page-break-before:always; margin-top:20px;">
                        <h4 style="text-align:center; text-decoration:underline;">TERMS AND CONDITIONS</h4>
                        <t t-esc="o.custom_terms_conditions"/>
                    </div>

                    <div style="page-break-before:always; margin-top:20px;">
                        <t t-call="kg_purchase.purchase_order_template_custom"/>
                    </div>


                </div>
            </t>
        </t>
        <!--            </div>-->
    </template>

    <template id="purchase_order_template_custom">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <!--                    <div class="header">-->
                    <!--                        <table class='table table-borderless table-condensed table-hover' width="100%">-->
                    <!--                            <tr>-->
                    <!--                                <td width="20%">-->
                    <!--                                    <img t-if='o.company_id.logo'-->
                    <!--                                         t-att-src='image_data_uri(o.company_id.logo)'-->
                    <!--                                         alt='Logo' style="max-width: 150px; max-height: 100px;"/>-->
                    <!--                                </td>-->
                    <!--                                <td width="40%">-->
                    <!--                                    <strong t-esc="o.company_id.name"/>-->
                    <!--                                    <br/>-->
                    <!--                                    <t t-if="o.company_id.partner_id.zip"><span-->
                    <!--                                            t-esc="o.company_id.partner_id.zip"/>,-->
                    <!--                                    </t>-->
                    <!--                                    <t t-if="o.company_id.partner_id.street"><span-->
                    <!--                                            t-esc="o.company_id.partner_id.street"/>,-->
                    <!--                                    </t>-->
                    <!--                                    <t t-if="o.company_id.partner_id.street2"><span-->
                    <!--                                            t-esc="o.company_id.partner_id.street2"/>,-->
                    <!--                                    </t>-->
                    <!--                                    <t t-if="o.company_id.partner_id.city"><span-->
                    <!--                                            t-esc="o.company_id.partner_id.city"/>,-->
                    <!--                                    </t>-->
                    <!--                                    <t t-if="o.company_id.partner_id.country_id"><span-->
                    <!--                                            t-esc="o.company_id.partner_id.country_id.name"/>,-->
                    <!--                                    </t>-->
                    <!--                                    <br/>-->
                    <!--                                    Phone/Fax:-->
                    <!--                                    <t t-if="o.company_id.phone">-->
                    <!--                                        <span t-field="o.company_id.phone"/>-->
                    <!--                                        <t t-if="o.company_id.mobile">/</t>-->
                    <!--                                    </t>-->
                    <!--                                    <t t-if="o.company_id.mobile">-->
                    <!--                                        <span t-field="o.company_id.mobile"/>-->
                    <!--                                    </t>-->
                    <!--                                </td>-->
                    <!--                                <td width="30%">-->
                    <!--                                    <strong>PURCHASE ORDER</strong>-->
                    <!--                                    <br/>-->
                    <!--                                    <strong>TRN:-->
                    <!--                                        <t t-esc="o.company_id.vat"/>-->
                    <!--                                    </strong>-->
                    <!--                                </td>-->
                    <!--                            </tr>-->
                    <!--                        </table>-->
<!--                                        </div>-->
                    <style>
                        table,td,th {
                        border:1px solid;
                        font-size:14px;
                        border-collapse: collapse; }
                        td,th {
                        padding:10px
                        }
                    </style>

                    <!-- PO Info -->
                    <table width="100%" border="1" style="border-collapse:collapse; font-size:11px;">
                        <tr>
                            <td>
                                <strong>P.O. NO.</strong>
                            </td>
                            <td>
                                <t t-esc="o.name"/>
                            </td>
                            <td>
                                <strong>P.O. DATE</strong>
                            </td>
                            <td>
                                <t t-esc="o.date_order.strftime('%d-%b-%Y') if o.date_order else ''"/>
                            </td>
                            <td>
                                <strong>VENDOR CODE</strong>
                            </td>
                            <td>
                                <t t-esc="o.partner_id.vendor_sequence or ''"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>TERMS</strong>
                            </td>
                            <td colspan="2">
                                <t t-esc="o.payment_term_id.name or ''"/>
                            </td>
                            <td>
                                <strong>SHIPMENT MODE</strong>
                            </td>
                            <td colspan="2">
                                <t t-esc="o.incoterm_id.name or 'ROAD'"/>
                            </td>
                        </tr>
                    </table>

                    <!-- Documentation Section -->
                    <table width="100%" border="1" style="border-collapse:collapse; font-size:11px; margin-top:15px;">
                        <tr>
                            <th colspan="2">DOCUMENTATION</th>
                            <th colspan="2">SCHEDULE OF SUBMISSION</th>
                        </tr>
                        <tr>
                            <td colspan="2">NOT APPLICABLE</td>
                            <td>YES</td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td colspan="2">BASIC DESIGN DOCUMENTS/DRAWINGS (E._P.__ Sets)</td>
                            <td>YES</td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td colspan="2">DETAILED DESIGN DOCUMENTS/DRAWINGS (E._P.__ Sets)</td>
                            <td>YES</td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td colspan="2">FOR CONSTRUCTION &amp; FINAL DOCUMENTS/DRAWINGS (E._P.__ Sets)</td>
                            <td>YES</td>
                            <td>YES</td>
                        </tr>
                    </table>

                    <!-- Inspection Section -->
                    <table width="100%" border="1" style="border-collapse:collapse; font-size:11px; margin-top:15px;">
                        <tr>
                            <th colspan="3">INSPECTION</th>
                        </tr>
                        <tr>
                            <td colspan="2">NOT REQUIRED</td>

                            <td>YES</td>
                        </tr>
                        <tr>
                            <td colspan="2">REQUIRED</td>
                            <td/>
                        </tr>
                        <tr>
                            <td colspan="2">INSPECTION DETAILS:</td>
                            <td/>
                        </tr>
                        <tr>
                            <td colspan="2"/>
                            <td/>
                        </tr>
                        <tr>
                            <td colspan="2"/>
                            <td/>
                        </tr>
                        <tr>
                            <td colspan="2"/>
                            <td/>
                        </tr>

                    </table>

                    <!-- Warranty Period Section -->
                    <table width="100%" border="1" style="border-collapse:collapse; font-size:11px; margin-top:15px;">
                        <tr>
                            <th colspan="3">WARRANTY PERIOD</th>
                        </tr>
                        <tr>
                            <td colspan="2">12 MONTHS FROM DATE OF SUPPLY</td>

                            <td>YES</td>
                        </tr>
                        <tr>
                            <td colspan="2">18 MONTHS FROM DATE OF SUPPLY</td>
                            <td/>
                        </tr>
                        <tr>
                            <td colspan="2">___ MONTHS FROM DATE OF SUPPLY</td>
                            <td/>
                        </tr>
                    </table>

                    <!-- Partial Shipment -->
                    <table width="100%" border="1" style="border-collapse:collapse; font-size:11px; margin-top:15px;">
                        <tr>
                            <th>PARTIAL SHIPMENT DETAILS</th>
                            <th>DELIVERY DATE</th>
                        </tr>
                        <tr>
                            <td/>
                            <td/>
                        </tr>
                        <tr>
                            <td/>
                            <td/>
                        </tr>
                        <tr>
                            <td/>
                            <td/>
                        </tr>
                    </table>

                    <!-- Project Specific Requirements -->
                    <table width="100%" border="1" style="border-collapse:collapse; font-size:11px; margin-top:15px;">
                        <tr>
                            <th colspan="2">PROJECT SPECIFIC REQUIREMENTS</th>
                        </tr>
                        <tr>
                            <td align="center" colspan="2">NOT APPLICABLE</td>
                        </tr>
                        <tr>
                            <td colspan="2"/>

                        </tr>
                        <tr>
                            <td colspan="2"/>

                        </tr>
                        <tr>
                            <td colspan="2"/>

                        </tr>
                        <tr>
                            <td colspan="2"/>

                        </tr>


                    </table>

                    <p style="font-size:9px; text-align:center; margin-top:6px;">
                        THE P.O. NUMBER SHOULD APPEAR IN ALL SHIPPING DOCUMENTS / DELIVERY NOTES / INVOICES /
                        CORRESPONDENCES
                    </p>
                </div>
            </t>
        </t>
    </template>

    <template id="report_purchase_order_main">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="kg_purchase.purchase_order_template"/>

                <t t-call="kg_purchase.purchase_order_template_custom"/>


            </t>
        </t>
    </template>


</odoo>