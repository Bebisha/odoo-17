<odoo>
    <record id="account_payment_id" model="ir.ui.view">
        <field name="name">account.payment.inherit</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='partner_bank_id']" position="after">
                <field name="pdc_cdc"
                       invisible="payment_method_code != 'check_printing'" readonly="state== 'posted'"/>
                <field name="cheque_series"
                       invisible="payment_method_code != 'check_printing'" readonly="state=='posted'"
                       required="payment_method_code == 'check_printing'"/>
                <field name="cheque_leaf_no"
                       invisible="payment_method_code !=  'check_printing'" readonly="state== 'posted'"
                       required="payment_method_code == 'check_printing'"
                       options="{'no_create_edit': True, 'no_create': True}"/>
                <field name="cheque_transaction_date"
                       invisible="payment_method_code != 'check_printing'"
                       required="payment_method_code == 'check_printing'"/>
                <field name="cheque_payee_name"
                       invisible="payment_method_code !='check_printing'"/>

                <field name="journal_type" invisible="1"/>

            </xpath>
            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="options">{'no_create_edit': True,'no_create':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_id'][2]" position="attributes">
                <attribute name="options">{'no_create_edit': True,'no_create':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='payment_method_line_id']" position="attributes">
                <attribute name="string">Payment Mode</attribute>
            </xpath>
            <xpath expr="//field[@name='payment_type']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='ref']" position="attributes">
                <attribute name="string">Narration</attribute>
            </xpath>
            <xpath expr="//label[@for='amount']" position="before">
                <field name="currency_id" options="{'no_create': True, 'no_open': True}" required="1"
                       readonly="'state', '!=', 'draft'" groups="base.group_multi_currency"/>
            </xpath>
            <xpath expr="//div[@name='amount_div']/field[@name='currency_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//button[@name='mark_as_sent']" position="after">
                <button name="update_cheque_leaf_wizard" string="Update Cheque No." type="object"
                        invisible="('payment_method_code', '!=', 'check_printing') or 'state', '!=', 'posted'"/>
            </xpath>
            <xpath expr="//button[@name='print_checks']" position="replace">
                <button name="%(kg_cheque_print_report)d"
                        string="Print Cheque"
                        type="action"
                        invisible="payment_method_code != 'check_printing' or state != 'posted' or is_move_sent"
                        class="oe_highlight"/>

            </xpath>
        </field>
    </record>
</odoo>