<odoo>
    <record id="view_lsa_form_form" model="ir.ui.view">
        <field name="name">lsa.form.form</field>
        <field name="model">lsa.form</field>
        <field name="arch" type="xml">
            <form string="LSA Form">
                <header>
                    <button name="create_lsa" string="Create lsa" type="object"
                            class="btn-primary"

                    />
                    <button name="create_lsa_certificate" string="Create Certificate" type="object"
                            class="btn-primary"

                    />
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">

                        <button class="oe_stat_button" name="action_lsa"
                                type="object" icon="fa-bars" string="LSA" invisible="repair_form_count == 0">
                            <field name="repair_form_count" widget="statinfo" string="LSA"/>
                        </button>
                        <button class="oe_stat_button" name="action_sale_order"
                                type="object" icon="fa-bars" string="Sale Order" invisible="sale_form_count == 0">
                            <field name="sale_form_count" widget="statinfo" string="Sale Order"/>


                        </button>

                    </div>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="partner_id" widget="res_partner_many2one"
                                   domain="[('customer_rank','>', 0),('is_company', '=', True)]"
                                   context="{'res_partner_search_mode': 'customer', 'show_address': 1, 'show_vat': True}"
                                   placeholder="Type to find a customer..."/>


                            <field name="vessel_id"/>
                            <field name="lead_id"/>
                            <field name="equipment_id" invisible="1"/>
                            <field name="product_group_id"/>
                            <field name="product_category_parent_id" domain="[('is_scope', '=', True)]"/>
                            <field name="product_category_id"/>
                            <field name="product_id"/>
                            <field name="qty_lsa"/>
                            <field name="scope_id" invisible="1"/>
                            <field name="equipment_records_ids" widget="many2many_tags" invisible="1"/>
                            <field name="jr_no"/>
                        </group>

                        <group>
                            <field name="certificate_no"/>
                            <field name="certificate_ref" readonly="1"/>
                            <field name="job_sheet_number"/>
                            <field name="inspection_date"/>
                            <field name="next_inspection_date"/>
                            <field name="environmental_conditions"/>
                        </group>

                    </group>
                    <notebook>
                        <page string="Additional Information" invisible="1">

                            <group string="Equipment Service">
                                <!--                                <field name="master_equipment"/>-->
                                <field name="make_id"/>
                                <field name="model_id"/>
                                <field name="serial_no"/>
                            </group>
                            <group>
                                <field name="work_instruction"/>
                                <field name="standards"/>
                                <field name="general_notes"/>
                                <field name="remarks"/>
                            </group>
                        </page>
                        <page string="Certificate">
                            <group>
                                <field name="certificate_content_view" widget="html"/>
                            </group>
                        </page>
                        <page string="Service instrument">
                            <field name="seq_lot_line_ids" readonly="0">
                                <tree editable="bottom" create="False" decoration-success="is_already_created == True">
                                    <field name="x_check_done" string="Done?" widget="boolean_button" readonly="False"/>
                                    <field name="serial_no" string="NO." readonly="True"/>
                                    <field name="pro_id" readonly="True"/>
                                    <field name="lot_number_text" readonly="True" string="Description"/>

                                    <field name="product_temp_id" column_invisible="1"/>
                                    <field name="product_category" column_invisible="1"/>
                                    <field name="uom_id" column_invisible="1"/>
                                    <!--                    <field name="is_created" column_invisible="1"/>-->
                                    <field name="des" column_invisible="1"/>
                                    <field name="make_id" readonly="True"/>
                                    <field name="model_id" readonly="True"/>
                                    <field name="name" string="Serial No/ID No" readonly="True"/>
                                    <field name="lot_id" string="Serial No/ID No" column_invisible="1" readonly="True"/>
                                    <field name="accesories" string="Accessories" readonly="True"/>
                                    <field name="physical_status_id" string="Status" readonly="True"/>
                                    <field name="remark" string="Remarks" readonly="True"/>
                                    <!--                    <field name="lot_ids" column_invisible="1"/>-->
                                    <!--                    <field name="serial_no" column_invisible="1"/>-->
                                    <field name="qty" readonly="1"/>
                                    <field name="unit_price" optional="hide"/>
                                    <field name="is_already_created" optional="hide"/>
                                </tree>

                                <!--                                <tree editable="bottom">-->
                                <!--                                    <field name="product_id" string="Description"/>-->
                                <!--                                    <field name="equipment_make"/>-->
                                <!--                                    <field name="equipment_serial_no"/>-->
                                <!--                                    <field name="equipment_certificate_no"/>-->
                                <!--                                    <field name="equipment_traceability"/>-->
                                <!--                                </tree>-->
                            </field>
                        </page>
                    </notebook>
                    <!--                    </group>-->
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="view_ilsa_form_tree" model="ir.ui.view">
        <field name="name">lsa.form.tree</field>
        <field name="model">lsa.form</field>
        <field name="arch" type="xml">
            <tree string="LSA List ">
                <field name="partner_id"/>
                <field name="vessel_id"/>
                <field name="product_group_id"/>
                <field name="product_category_parent_id" domain="[('is_scope', '=', True)]"/>
                <field name="product_category_id"/>
                <field name="product_id"/>
                <field name="qty_lsa"/>
                <field name="certificate_no"/>
                <field name="certificate_ref" readonly="1"/>
                <field name="inspection_date"/>
                <field name="next_inspection_date"/>
                <field name="work_instruction"/>
                <field name="standards"/>
                <field name="make_id" optional="hide"/>
                <field name="model_id" optional="hide"/>
                <field name="serial_no" optional="hide"/>
            </tree>
        </field>
    </record>
    <record id="view_lsa_form_search" model="ir.ui.view">
        <field name="name">lsa.form.view.search</field>
        <field name="model">lsa.form</field>
        <field name="arch" type="xml">
            <search string="LSA ">
                <!-- Filters -->
                <filter name="filter_partner" string="Partner" domain="[('partner_id', '!=', False)]"/>
                <!--                <filter name="filter_product_group_id" string="Group" domain="[('product_group_id', '!=', False)]"/>-->
                <filter name="filter_product_category_parent_id" string="Category"
                        domain="[('product_category_parent_id', '!=', False)]"/>

                <filter name="filter_product_id" string="Product" domain="[('product_id', '!=', False)]"/>
                <filter name="filter_vessel" string="Vessel" domain="[('vessel_id', '!=', False)]"/>
                <filter name="filter_certificate_no" string="Certificate no"
                        domain="[('certificate_no', '!=', False)]"/>
                <filter name="filter_standards" string="standards" domain="[('standards', '!=', False)]"/>
                <filter name="filter_work_instruction" string="Work Instruction"
                        domain="[('work_instruction', '!=', False)]"/>


                <!-- Group By Fields -->
                <group expand="1" string="Group By">
                    <field name="partner_id"/>
                    <field name="product_group_id"/>
                    <field name="product_category_id"/>
                    <field name="work_instruction"/>
                    <field name="standards"/>
                    <field name="vessel_id"/>
                    <field name="product_id"/>
                    <field name="certificate_no"/>
                    <field name="certificate_ref" readonly="1"/>


                    <filter string="Partner" name="partner_id" domain="[]"
                            context="{'group_by':'partner_id'}"/>
                    <filter string="Scope" name="product_group_id" domain="[]"
                            context="{'group_by':'product_group_id'}"/>
                    <filter string="ScopeCategory" name="product_category_id" domain="[]"
                            context="{'group_by':'product_category_id'}"/>
                    <filter string="Work Instruction" name="work_instruction" domain="[]"
                            context="{'group_by':'work_instruction'}"/>
                    <filter string="Standards" name="standards" domain="[]"
                            context="{'group_by':'standards'}"/>
                    <filter string="Standards" name="standards" domain="[]"
                            context="{'group_by':'standards'}"/>
                    <filter string="Vessel" name="vessel" domain="[]"
                            context="{'group_by':'vessel_id'}"/>
                    <filter string="Product" name="product_id" domain="[]"
                            context="{'group_by':'product_id'}"/>
                    <filter string="Certificate number" name="certificate_no" domain="[]"
                            context="{'group_by':'certificate_no'}"/>


                </group>
            </search>
        </field>
    </record>


    <record id="action_lsa_form" model="ir.actions.act_window">
        <field name="name">LSA Form</field>
        <field name="res_model">lsa.form</field>
        <field name="view_mode">tree,form</field>
    </record>


    <menuitem id="menu_lsa_form" name="LSA Form" parent="job_sheet_menu_01"
              action="action_lsa_form"/>


</odoo>
