<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="hr_dashboard.HrDashboard" owl="1">
        <style>
            /* Custom CSS for Scrollable Cards */
            .container {
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Two fixed columns */
            gap: 20px; /* Spacing between cards */
            }

            /* Card Styles */
            .card {
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f7cbc8; /* background for cards */
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow effect */
            }

            .card-header {
            background-color: #dbb9b6; /* background for vessel name */
            color: white; /* White text color for the vessel name */
            font-weight: bold;
            padding: 15px;
            border-radius: 8px 8px 0 0; /* Rounded top corners */
            }

            /* Card Body Styles */
            .card-body {
            max-height: 300px;
            overflow-y: auto;
            padding: 15px;
            background-color: #f7cbc8; /* background for card body */
            border-radius: 0 0 8px 8px; /* Rounded bottom corners */
            }

            /* Scrollbar Styling */
            .card-body {
            scrollbar-width: thin; /* Firefox */
            scrollbar-color: #888 #f0f0f0; /* Firefox */
            }

            .card-body::-webkit-scrollbar {
            width: 8px; /* For WebKit browsers */
            }

            .card-body::-webkit-scrollbar-track {
            background: #f0f0f0;
            }

            .card-body::-webkit-scrollbar-thumb {
            background-color: #888;
            border-radius: 4px;
            }

            /* Text Styling for Department and Employee */
            h4 {
            color: #333; /* Dark text for department name */
            font-size: 16px;
            margin-bottom: 10px;
            }

            p {
            color: #666; /* Slightly lighter color for text */
            font-size: 14px;
            }

            ul {
            padding-left: 20px;
            }

            li {
            font-size: 14px;
            margin-bottom: 8px;
            }

            .filter-dropdown {
                text-align: center;
                margin-bottom: 20px;
            }

        </style>

        <div style="margin-left:50pt; width: 30%">
<!--            <label for="employeeFilter">Filter Employees:</label>-->
            <select id="employeeFilter" t-model="state.filter" t-on-change="onFilterChange">
                <option value="active">Active Employees</option>
                <option value="inactive">Inactive Employees</option>
            </select>
        </div>
        <t t-if="state.data.vessels_by_department">
            <div class="container">
                <t t-foreach="state.data.vessels_by_department" t-as="vessel" t-key="vessel.vessel">
                    <div class="card">
                        <div class="card-header">
                            <span t-esc="vessel.vessel" style="text-transform: uppercase; font-size:20px;"/>
                        </div>
                        <div class="card-body">
                            <t t-foreach="vessel.departments" t-as="department" t-key="department.department">
                                <div style="margin-bottom: 20px;">
                                    <h4>DEPARTMENT:
                                        <span t-esc="department.department" style="text-transform: uppercase;"/>
                                    </h4>
                                    <strong>TOTAL EMPLOYEES:
                                        <t t-esc="department.employee_count"/>
                                    </strong>
                                    <table width="100%" style="margin-top:10pt;">
                                        <tr>
                                            <th>EMPLOYEE</th>
                                            <th>JOB</th>
                                            <th>SIGN ON</th>
                                            <th>SIGN OFF</th>
                                        </tr>
                                        <tr t-foreach="department.employees" t-as="employee" t-key="employee.id">
                                            <td>
                                                <span
                                                        t-on-click="openEmployee(employee.id)"
                                                        style="cursor: pointer;">
                                                    <span t-esc="employee.name" style="text-transform: uppercase;"/>
                                                </span>
                                            </td>
                                            <td>
                                                <span t-esc="employee.job_title" style="text-transform: uppercase;"/>
                                            </td>
                                            <td>
                                                <span t-if="employee.date_start">
                                                    <t t-esc="employee.date_start.split('-').reverse().join('/')"/>
                                                </span>
                                            </td>
                                            <td>
                                                <span t-if="employee.date_end">
                                                    <t t-esc="employee.date_end.split('-').reverse().join('/')"/>
                                                </span>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </t>
                        </div>
                    </div>
                </t>
            </div>
        </t>

        <t t-else="">
            <div align="center" style="margin-top: 20px;">
                <p>No data available to display.</p>
            </div>
        </t>
    </t>
</templates>
