<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!--  Action for leave balance pdf report  -->
    <record id="action_report_negative_leave_balance_pdf" model="ir.actions.report">
        <field name="name">Negative Leave Balance Report</field>
        <field name="model">negative.leave.balance.report</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">kg_negative_leave_allocation.report_negative_leave_balance_pdf</field>
        <field name="report_file">kg_negative_leave_allocation.report_negative_leave_balance_pdf</field>
        <field name="binding_type">report</field>
    </record>

    <!--  Template for leave balance pdf report  -->
    <template id="report_negative_leave_balance_pdf">
        <t t-call="web.html_container">
            <div class="page">
                <style>
                    .table-borderless td,
                    .table-borderless th {
                    border: 0;
                    }
                </style>
                <div class="header">
                    <table class='table table-borderless table-condensed table-hover'>
                        <tr width="100%" style="font-size:25px;">
                            <td width="75%" align="left" style="border: 1px solid white">
                                <!--                                    <img t-if='company_logo'-->
                                <!--                                         t-att-src='image_data_uri(o.company_id.logo)'-->
                                <!--                                         alt='Logo' style="max-width: 150px; max-height: 100px;"/>-->
                                <strong>
                                    <span t-esc="company_id" style="text-transform: uppercase;"/>
                                </strong>
                            </td>
                            <td align="right" width="25%" style="border: 1px solid white">
                                <strong>
                                    DATE :
                                    <t t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d')"/>
                                </strong>
                            </td>
                        </tr>
                        <tr>
                            <td colsapn="2" style="border: 1px solid white" align="center">
                                <span style="font-weight: bold;font-size:30px; margin-left:250px;">
                                    NEGATIVE LEAVE BALANCE REPORT
                                </span>
                            </td>
                        </tr>
                    </table>
                </div>
                <div>
                    <table style='border-collapse:collapse;width:100%;margin:5pt;border: 1px solid black;'>
                        <thead>
                            <tr style="height:50px; border: 1px solid black;">
                                <th style="border-right: 1px solid black;">
                                    <span>EMPLOYEE</span>
                                </th>
                                <th style="border-right: 1px solid black;">
                                    <span>JOB</span>
                                </th>
                                <th style="border-right: 1px solid black;">
                                    <span>DEPARTMENT</span>
                                </th>
                                <th style="border-right: 1px solid black;">
                                    <span>TYPE OF LEAVE</span>
                                </th>
                                <th>
                                    <span>NEGATIVE BALANCE</span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr t-foreach="value_list" t-as="value" style="height:40px; border: 1px solid black;">
                                <td style="border-right: 1px solid black; text-align:center;">
                                    <t t-esc="value['employee']"/>
                                </td>
                                <td style="border-right: 1px solid black; text-align:center;">
                                    <t t-esc="value['job']"/>
                                </td>
                                <td style="border-right: 1px solid black; text-align:center;">
                                    <t t-esc="value['department']"/>
                                </td>
                                <td style="border-right: 1px solid black; text-align:center;">
                                    <t t-esc="value['leave_type']"/>
                                </td>
                                <td style="text-align:center;">
                                    <t t-esc="value['balance_days']"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </t>
    </template>

</odoo>