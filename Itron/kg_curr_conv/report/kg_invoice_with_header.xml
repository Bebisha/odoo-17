<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="itron_external_header">
        <div class="header">
            <div class="col-xs-12" style="line-height:15pt;">
                <div class="col-xs-7" style="float: left">
                    <t t-if="o.company_id.logo">
                        <img t-attf-src="data:image/*;base64,{{o.company_id.logo}}" height="100px" width="250px"/>
                    </t>
                </div>
                <div class="col-xs-5" style="float: right">
                    <div style="font-size: 12pt;line-height: 23px;">
                        <br/>
                        <span class="text-left"
                              style="font-size: 18pt;font-weight: bold;font-family:Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;"
                              t-field="o.company_id.name"/>
                        <br/>
                        <t t-if="o.company_id.zip">PO Box #
                            <span t-field="o.company_id.zip"/>
                            ,
                        </t>
                        <t t-if="o.company_id.street">
                            <span t-field="o.company_id.street"/>
                        </t>

                        <t t-if="o.company_id.street2">
                            <br/>
                            <span t-field="o.company_id.street2"/>
                            ,
                        </t>
                        <t t-if="o.company_id.city">
                            <span t-field="o.company_id.city"/>
                        </t>

                        <t t-if="o.company_id.state_id">
                            <br/>
                            <span t-field="o.company_id.state_id.name"/>
                            ,
                        </t>
                        <t t-if="o.company_id.country_id">
                            <span t-field="o.company_id.country_id.name"/>
                        </t>
                        <t t-if="o.company_id.website">
                            <br/>
                            <span style="color:#900C3F;">
                                <i class="fa fa-link"/>
                            </span>
                            :
                            <span t-field="o.company_id.website"/>
                        </t>

                        <!--                        <t t-if="o.company_id.email">-->
                        <!--                            <br/>-->
                        <!--                            <span style="color:#900C3F;">-->
                        <!--                                <i class="fa fa-envelope"/>-->
                        <!--                            </span>-->
                        <!--                            :-->
                        <!--                            <span t-field="o.company_id.email"/>-->
                        <!--                        </t>-->
                        <!--                        -->
                        <!--                        <t t-if="o.company_id.phone">-->
                        <!--                            <br/>-->
                        <!--                            <span style="color:#900C3F;">-->
                        <!--                                <i class="fa fa-phone"/>-->
                        <!--                            </span>-->
                        <!--                            :-->
                        <!--                            <span t-field="o.company_id.phone"/>-->
                        <!--                        </t>-->

                        <t t-if="o.company_id.vat">
                            <br/>
                            <span>
                                <t t-if="o.company_id.country_id.code == 'IN'">GSTIN # :</t>
                                <t t-else="">VATIN # :</t>
                            </span>
                            <span t-field="o.company_id.vat"/>
                        </t>
                    </div>
                </div>
            </div>
        </div>
        <div class="article " t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
             t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-call="web.address_layout"/>
            <t t-raw="0"/>
        </div>
        <div class="footer o_boxed_footer">
            <div class="text-center">
                <strong>THANK YOU FOR YOUR BUSINESS !</strong>
                <br/>
                <strong style="color: #B2BABB;">This is System Generated Invoice &amp; does not require signature or
                    Seal.
                </strong>
            </div>
        </div>
    </template>
    <template id="itron_external_header_1">
        <div class="header">
        </div>
        <div class="article " t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
             t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-call="web.address_layout"/>
            <t t-raw="0"/>
        </div>
        <div class="footer">
        </div>
    </template>

    <template id="report_invoice_with_header">
        <t t-call="kg_curr_conv.itron_external_header">
            <div class="page" style="font-size: 14px;">
                <div class="oe_structure"/>
                <br/>
                <div class="col-xs-12 text-center"
                     style="line-height: 1.3em;font-size:12px;font-weight: bold;font-family:Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">
                    <h3>
                        <br/>
                        <strong>
                            <t t-if="o.state == 'proforma' and o.move_type == 'out_invoice'">PROFORMA INVOICE</t>
                            <t t-elif="o.move_type == 'out_invoice'">TAX INVOICE</t>
                            <t t-elif="o.move_type == 'out_refund'">TAX REFUND</t>
                            <t t-elif="o.move_type == 'in_invoice'">VENDOR INVOICE</t>
                            <t t-elif="o.move_type == 'in_refund'">VENDOR INVOICE REFUND</t>
                            <t t-else="">INVOICE</t>
                        </strong>
                    </h3>
                </div>
                <table style="width:100%;font-size:16px;border:1px solid white;">
                    <tr>
                        <td style="width:65%">
                            <strong>TO:</strong>
                            <br/>
                            <strong>
                                <span t-field="o.partner_id"/>
                            </strong>
                            <br/>
                            <t t-if="o.partner_id.street">
                                <span t-field="o.partner_id.street"/>
                            </t>
                            <t t-if="o.partner_id.street2">
                                <span t-field="o.partner_id.street2"/>
                            </t>
                            <t t-if="o.partner_id.street or o.partner_id.street2">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.city">
                                <span t-field="o.partner_id.city"/>
                            </t>
                            <t t-if="o.partner_id.state_id">
                                <span t-field="o.partner_id.state_id"/>
                            </t>
                            <t t-if="o.partner_id.country_id">
                                <span t-field="o.partner_id.country_id"/>
                            </t>
                            <t t-if="o.partner_id.city or o.partner_id.state_id or o.partner_id.country_id">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.phone">
                                <span t-field="o.partner_id.phone"/>
                            </t>
                            <t t-if="o.partner_id.mobile">
                                <span t-field="o.partner_id.mobile"/>
                            </t>

                            <t t-if="o.partner_id.phone or o.partner_id.mobile">
                                <br/>
                            </t>

                            <t t-if="o.partner_id.email">
                                <span t-field="o.partner_id.email"/>
                            </t>
                            <t t-if="o.partner_id.email">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.vat">
                                <span t-if="o.partner_id.country_id.code == 'AE'">TRN #:</span>
                                <span t-if="o.partner_id.country_id.code == 'IN'">TIN #:</span>
                                <span t-field="o.partner_id.vat"/>
                            </t>
                        </td>
                        <td style="width:35%">
                            <table style="border:1px solid white;">
                                <t t-if="o.name">
                                    <tr>
                                        <td style="width:10%" class="text-left">Invoice#</td>
                                        <td style="width:10%" class="text-right">:</td>
                                        <td style="width:10%" class="text-left">&amp;nbsp;
                                            <strong>
                                                <span t-field="o.name"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.state == 'proforma'">
                                    <tr>
                                        <td class="text-left">Profoma#</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left">&amp;nbsp;
                                            <strong>
                                                <span t-field="o.pi_number"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.invoice_date">
                                    <tr>
                                        <td class="text-left">Date</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left">&amp;nbsp;
                                            <strong>
                                                <span t-field="o.invoice_date"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.kg_lpo">
                                    <tr>
                                        <td class="text-left">PO Ref#</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left">&amp;nbsp;
                                            <strong>
                                                <span t-field="o.kg_lpo"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.invoice_date_due">
                                    <tr>
                                        <td class="text-left">Due Date</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left">&amp;nbsp;
                                            <strong>
                                                <span t-field="o.invoice_date_due"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </td>
                    </tr>
                </table>
                <div class="row">
                    <br/>
                </div>
                <table style="width:100%;border: 1px solid black;border-collapse: collapse;">
                    <thead>
                        <tr style="height:10mm;border:1px solid black;">
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:7%;">
                                Si #
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:35%;">
                                Description
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:8%;">
                                Qty
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:10%;">
                                Price
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:15%;">
                                Sub Total (<span t-field="o.currency_id"/>)
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:10%;">
                                <t t-if="o.company_id.country_id.code in ['BH', 'OM', 'AE']">
                                    VAT
                                </t>
                                <t t-else="">
                                    TAX
                                </t>
                            </th>
                            <!--                            <th class="text-center"-->
                            <!--                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:10%;">-->
                            <!--                                Discount-->
                            <!--                            </th>-->
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:15%;">
                                Total (<span t-field="o.currency_id"/>)
                            </th>
                            <!--<th class="text-center" style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:10%;">-->
                            <!--    Amount Due-->
                            <!--</th>-->
                        </tr>
                    </thead>
                    <tbody>

                        <t t-set="count" t-value="0"/>
                        <t t-set="od_total" t-value="0"/>
                        <t t-if="len(o.invoice_line_ids) &lt; 3">
                            <t t-set="styles" t-value="'height:1in;valign:center;'"/>
                        </t>
                        <t t-if="len(o.invoice_line_ids) &gt; 3">
                            <t t-set="styles" t-value="'color:Black'"/>
                        </t>
                        <t t-set="total_discount" t-value="0"/>

                        <tr style="height:10mm;border-right:1px solid black;padding:5px 5px 5px 5px;"
                            t-foreach="o.invoice_line_ids" t-as="line" t-att-style="styles">
                            <t t-if="line.display_type == 'product'">
                                <t t-set="count" t-value="count + 1"/>
                                <td class="text-center"
                                    style="border-right:1px solid black;text-align:center;width:7%;padding:5px 5px 5px 5px;">
                                    <span t-esc="count"/>
                                </td>
                                <td class="text-left"
                                    style="border-right:1px solid black;text-align:left;width:32%;padding:5px 5px 5px 5px;">
                                    <span t-field="line.name"/>
                                </td>
                                <td class="text-center"
                                    style="border-right:1px solid black;text-align:center;width:8%;padding:5px 5px 5px 5px;">
                                    <span t-field="line.quantity"
                                          t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                                </td>
                                <td class="text-right"
                                    style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;">
                                    <span t-field="line.price_unit"
                                          t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                                </td>
                                <t t-set="od_total" t-value="(line.price_unit*line.quantity)"/>
                                <t t-if="line.discount">
                                    <t t-set="discount"
                                       t-value="(line.price_unit * line.quantity) * line.discount / 100"/>
                                </t>
                                <t t-else="">
                                    <t t-set="discount" t-value="0"/>
                                </t>
                                <t t-set="total_discount" t-value="total_discount + discount"/>
                                <t t-set="tax_dec" t-value="line.tax_ids.amount/100"/>
                                <t t-set="line_total" t-value="od_total - discount"/>
                                <t t-set="tax" t-value="line_total * tax_dec"/>

                                <t t-set="tot" t-value="line_total + tax"/>

                                <td class="text-right"
                                    style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;">
                                    <span t-esc="od_total"
                                          t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                                </td>
                                <td class="text-center"
                                    style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;">
                                    <span t-esc="tax"
                                          t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                                </td>

                                <!--                            <td class="text-center"-->
                                <!--                                style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;">-->

                                <!--                                    <span t-esc="discount "-->
                                <!--                                          t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>-->

                                <!--                            </td>-->


                                <td class="text-right"
                                    style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;">
                                    <span t-esc="tot"
                                          t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                                </td>
                                <!--<td class="text-right" style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;">-->
                                <!--    <span t-esc="o.amount_residual" t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>-->
                                <!--</td>-->
                            </t>
                            <t t-else="">
                                <td class="text-center"
                                    style="border-right:1px solid black;text-align:center;width:7%;padding:5px 5px 5px 5px;"/>
                                <td class="text-left"
                                    style="border-right:1px solid black;text-align:left;width:32%;padding:5px 5px 5px 5px;">
                                    <span t-field="line.name"/>
                                </td>
                                <td class="text-center"
                                    style="border-right:1px solid black;text-align:center;width:8%;padding:5px 5px 5px 5px;"/>
                                <td class="text-right"
                                    style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;"/>
                                <td class="text-right"
                                    style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;"/>
                                <td class="text-center"
                                    style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;"/>
                                <td class="text-right"
                                    style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;"/>
                            </t>

                        </tr>
                        <tr style="height:10mm;border-right:1px solid black">
                            <td colspan="6" style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                <strong>Untaxed</strong>
                            </td>
                            <td style="border:1px solid black;text-align:right;width:10%">
                                <span t-esc="o.amount_untaxed" t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                            </td>
                        </tr>

                        <tr style="height:10mm;border-right:1px solid black">
                            <td colspan="6" style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                <t t-if="o.company_id.country_id.code in ['AE', 'OM']">
                                    <strong>VAT 5%</strong>
                                </t>
                                <t t-elif="o.company_id.country_id.code == 'BH'">
                                    <strong>VAT 10%</strong>
                                </t>
                                <t t-else="">
                                    TAX
                                </t>
                            </td>
                            <td style="border:1px solid black;text-align:right;width:10%">
                                <span t-field="o.amount_tax"
                                      t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                            </td>
                        </tr>
                        <t t-if="total_discount">
                            <tr style="height:10mm;border-right:1px solid black">
                                <td colspan="6"
                                    style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                    <strong>Discount</strong>
                                </td>
                                <td style="border:1px solid black;text-align:right;width:10%">
                                    <span t-esc="total_discount"
                                          t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                                </td>
                            </tr>
                        </t>

                        <tr style="height:10mm;border-right:1px solid black">
                            <td colspan="6" style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                <strong>Total</strong>
                            </td>
                            <td style="border:1px solid black;text-align:right;width:10%">
                                <span t-esc="o.amount_total + o.kg_tds_amount"
                                      t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                            </td>
                        </tr>
                        <!--<t t-if="o.amount_residual">-->
                        <tr style="height:10mm;border-right:1px solid black">
                            <td colspan="6" style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                <strong>Amount Due</strong>
                            </td>
                            <td style="border:1px solid black;text-align:right;width:10%">
                                <span t-esc="o.amount_residual"
                                      t-options="{&quot;widget&quot;: &quot;float&quot;,&quot;precision&quot;: o.currency_id.decimal_places}"/>
                            </td>
                        </tr>
                        <!--</t>-->


                    </tbody>
                </table>
                <br/>
                <table style="width:100%;font-size:16px;border:1px solid black;">
                    <tr>
                        <t t-if="o.move_type == 'in_invoice'">
                            <td>
                                <t t-if="o.partner_id.bank_ids">
                                    <strong>Please make the payment to the following account:</strong>
                                    <br/>
                                    <br/>
                                    <t t-if="o.partner_id.bank_ids[0].acc_number">Account No:
                                        <span t-field="o.partner_id.bank_ids[0].acc_number"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_id.bank_ids[0].bank_id.name">Account Name:
                                        <span t-field="o.partner_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_id.bank_ids[0].bank_id.name">Bank Name:
                                        <span t-field="o.partner_id.bank_ids[0].bank_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_id.bank_ids[0].bank_id.bic">Swift Code:
                                        <span t-field="o.partner_id.bank_ids[0].bank_id.bic"/>
                                        <br/>
                                    </t>
                                </t>
                                <!--                            <t t-if="not o.partner_id.bank_ids">-->
                                <!--                                <strong>Please make the payment to the following account:</strong>-->
                                <!--                                <br/>-->
                                <!--                                <span t-field="o.company_id.kg_bank_details"/>-->
                                <!--                            </t>-->
                            </td>
                        </t>
                        <t t-else="">
                            <td>
                                <t t-if="o.bank_id">
                                    <strong>Please make the payment to the following account:</strong>
                                    <br/>
                                    <br/>
                                    <t t-if="o.bank_id.bank_acc_number">
                                        Account No:
                                        <span t-field="o.bank_id.bank_acc_number"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.name">
                                        Account Name:
                                        <span t-field="o.company_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.bank_id.bank_id.name">
                                        Bank Name:
                                        <span t-field="o.bank_id.bank_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.bank_id.bank_id.bic">
                                        Swift Code:
                                        <span t-field="o.bank_id.bank_id.bic"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.id == 1">IBAN:
                                        <span>OM070180010470287987001</span>
                                        <br/>
                                    </t>
                                </t>
                                <t t-if="not o.bank_id">
                                    <strong>Please make the payment to the following account:</strong>
                                    <br/>
                                    <span t-field="o.company_id.kg_bank_details"/>
                                </t>
                            </td>

                        </t>
                    </tr>
                </table>
                <br/>
                <div class="col-xs-12" style="font-size:16px;">
                    <div class="col-xs-6">
                    </div>
                    <div class="col-xs-6" style="float: right">
                        <br/>
                        <br/>
                        <br/>
                        <strong>Authorized Signatory</strong>
                    </div>
                </div>
            </div>
        </t>

    </template>
    <template id="report_invoice_without_header">
        <t t-call="kg_curr_conv.itron_external_header_1">
            <div class="page" style="font-size: 14px;">
                <div class="oe_structure"/>
                <br/>
                <div class="col-xs-12 text-center"
                     style="line-height: 1.3em;font-size:12px;font-weight: bold;font-family:Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">
                    <h3>
                        <strong>
                            <t t-if="o.state == 'proforma' and o.move_type == 'out_invoice'">PROFORMA INVOICE</t>
                            <t t-if="o.move_type == 'out_invoice'">TAX INVOICE</t>
                            <t t-elif="o.move_type == 'out_refund'">TAX REFUND</t>
                            <t t-elif="o.move_type == 'in_invoice'">VENDOR INVOICE</t>
                            <t t-elif="o.move_type == 'in_refund'">VENDOR INVOICE REFUND</t>
                            <t t-else="">INVOICE</t>
                        </strong>
                    </h3>
                </div>
                <table style="width:100%;font-size:16px;border:1px solid white;">
                    <tr>
                        <td style="width:65%">
                            <strong>TO:</strong>
                            <br/>
                            <strong>
                                <span t-field="o.partner_id"/>
                            </strong>
                            <br/>
                            <t t-if="o.partner_id.street">
                                <span t-field="o.partner_id.street"/>
                            </t>
                            <t t-if="o.partner_id.street2">
                                <span t-field="o.partner_id.street2"/>
                            </t>
                            <t t-if="o.partner_id.street or o.partner_id.street2">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.city">
                                <span t-field="o.partner_id.city"/>
                            </t>
                            <t t-if="o.partner_id.state_id">
                                <span t-field="o.partner_id.state_id"/>
                            </t>
                            <t t-if="o.partner_id.country_id">
                                <span t-field="o.partner_id.country_id"/>
                            </t>
                            <t t-if="o.partner_id.city or o.partner_id.state_id or o.partner_id.country_id">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.phone">
                                <span t-field="o.partner_id.phone"/>
                            </t>
                            <t t-if="o.partner_id.mobile">
                                <span t-field="o.partner_id.mobile"/>
                            </t>
                            <t t-if="o.partner_id.phone or o.partner_id.mobile">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.email">
                                <span t-field="o.partner_id.email"/>
                            </t>
                            <t t-if="o.partner_id.email">
                                <br/>
                            </t>
                            <t t-if="o.partner_id.vat">
                                <span t-if="o.partner_id.country_id.code == 'AE'">TRN #:</span>
                                <span t-if="o.partner_id.country_id.code == 'IN'">TIN #:</span>
                                <span t-field="o.partner_id.vat"/>
                            </t>
                        </td>
                        <td style="width:35%">
                            <table style="border:1px solid white;">
                                <t t-if="o.name">
                                    <tr>
                                        <td style="width:10%" class="text-left">Invoice#</td>
                                        <td style="width:10%" class="text-right">:</td>
                                        <td style="width:10%" class="text-left"><![CDATA[ &nbsp;]]>
                                            <strong>
                                                <span t-field="o.name"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.state == 'proforma'">
                                    <tr>
                                        <td class="text-left">Profoma#</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left"><![CDATA[ &nbsp;]]>
                                            <strong>
                                                <span t-field="o.pi_number"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.invoice_date">
                                    <tr>
                                        <td class="text-left">Date</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left"><![CDATA[ &nbsp;]]>
                                            <strong>
                                                <span t-field="o.invoice_date"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.kg_lpo">
                                    <tr>
                                        <td class="text-left">PO Ref#</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left"><![CDATA[ &nbsp;]]>
                                            <strong>
                                                <span t-field="o.kg_lpo"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                                <t t-if="o.invoice_date_due">
                                    <tr>
                                        <td class="text-left">Due Date</td>
                                        <td class="text-right">:</td>
                                        <td class="text-left"><![CDATA[ &nbsp;]]>
                                            <strong>
                                                <span t-field="o.invoice_date_due"/>
                                            </strong>
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </td>
                    </tr>
                </table>
                <div class="row">
                    <br/>
                </div>
                <table style="width:100%;border: 1px solid black;border-collapse: collapse;">
                    <thead>
                        <tr style="height:10mm;border:1px solid black;">
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:7%;">
                                Si #
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:35%;">
                                Description
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:8%;">
                                Qty
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:10%;">
                                Price
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:15%;">
                                Sub Total (<span t-field="o.currency_id"/>)
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:10%;">
                                Tax
                            </th>
                            <th class="text-center"
                                style="border: 1px solid black;border-collapse: collapse;padding:8px 5px 5px 5px;width:15%;">
                                Total (<span t-field="o.currency_id"/>)
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-set="count" t-value="0"/>
                        <t t-set="od_total" t-value="0"/>
                        <t t-if="len(o.invoice_line_ids) &lt; 3">
                            <t t-set="styles" t-value="'height:1in;valign:center;'"/>
                        </t>
                        <t t-if="len(o.invoice_line_ids) &gt; 3">
                            <t t-set="styles" t-value="'color:Black'"/>
                        </t>
                        <tr style="height:10mm;border-right:1px solid black;padding:5px 5px 5px 5px;"
                            t-foreach="o.invoice_line_ids" t-as="line" t-att-style="styles">
                            <t t-set="count" t-value="count + 1"/>
                            <td class="text-center"
                                style="border-right:1px solid black;text-align:center;width:7%;padding:5px 5px 5px 5px;">
                                <span t-esc="count"/>
                            </td>
                            <td class="text-left"
                                style="border-right:1px solid black;text-align:left;width:32%;padding:5px 5px 5px 5px;">
                                <span t-field="line.name"/>
                            </td>
                            <td class="text-center"
                                style="border-right:1px solid black;text-align:center;width:8%;padding:5px 5px 5px 5px;">
                                <span t-field="line.quantity"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>
                            <td class="text-right"
                                style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;">
                                <span t-field="line.price_unit"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>
                            <t t-set="od_total" t-value="(line.price_unit*line.quantity)"/>
                            <t t-set="tax_dec" t-value="line.tax_ids.amount/100"/>
                            <t t-set="tax" t-value="od_total * tax_dec"/>

                            <t t-set="tot" t-value="od_total + tax"/>

                            <td class="text-right"
                                style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;">
                                <span t-esc="od_total"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>

                            <td class="text-center"
                                style="border-right:1px solid black;text-align:right;width:10%;padding:5px 5px 5px 5px;">
                                <span t-esc="tax"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>
                            <td class="text-right"
                                style="border-right:1px solid black;text-align:right;width:15%;padding:5px 5px 5px 5px;">
                                <span t-esc="tot"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>
                        </tr>
                        <tr style="height:10mm;border-right:1px solid black">
                            <td colspan="6" style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                <strong>Tax</strong>
                            </td>
                            <td style="border:1px solid black;text-align:right;width:10%">
                                <span t-field="o.amount_tax"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>
                        </tr>
                        <!--                        <tr t-if="o.kg_tds_amount" style="height:10mm;font-size:14px;font-weight: bold;font-family:Helvetica,Verdana,Arial,sans,Lucida Grande,Calibri;">-->
                        <!--                            <td colspan="6" style="border:1px solid black;text-align:right;">TDS</td>-->
                        <!--                            <td style="border:1px solid black;text-align:right;width:10%">-->
                        <!--                                <span t-field="o.kg_tds_amount" t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>-->
                        <!--                            </td>-->
                        <!--                        </tr>-->
                        <tr style="height:10mm;border-right:1px solid black">
                            <td colspan="6" style="border:1px solid black;text-align:right;padding:0px 5px 5px 5px;">
                                <strong>Total</strong>
                            </td>
                            <td style="border:1px solid black;text-align:right;width:10%">
                                <span t-esc="o.amount_total + o.kg_tds_amount"
                                      t-options='{"widget": "float","precision": o.currency_id.decimal_places}'/>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <br/>
                <table style="width:100%;font-size:16px;border:1px solid black;">
                    <tr>
                        <t t-if="o.move_type == 'in_invoice'">
                            <td>
                                <t t-if="o.partner_id.bank_ids">
                                    <strong>Please make the payment to the following account:</strong>
                                    <br/>
                                    <br/>
                                    <t t-if="o.partner_id.bank_ids[0].acc_number">Account No:
                                        <span t-field="o.partner_id.bank_ids[0].acc_number"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_id.bank_ids[0].bank_id.name">Account Name:
                                        <span t-field="o.partner_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_id.bank_ids[0].bank_id.name">Bank Name:
                                        <span t-field="o.partner_id.bank_ids[0].bank_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_id.bank_ids[0].bank_id.bic">Swift Code:
                                        <span t-field="o.partner_id.bank_ids[0].bank_id.bic"/>
                                        <br/>
                                    </t>
                                </t>
                                <!--                            <t t-if="not o.partner_id.bank_ids">-->
                                <!--                                <strong>Please make the payment to the following account:</strong>-->
                                <!--                                <br/>-->
                                <!--                                <span t-field="o.company_id.kg_bank_details"/>-->
                                <!--                            </t>-->
                            </td>
                        </t>

                        <t t-else="">
                            <td>
                                <t t-if="o.bank_id">
                                    <strong>Please make the payment to the following account:</strong>
                                    <br/>
                                    <br/>
                                    <t t-if="o.bank_id.bank_acc_number">Account No:
                                        <span t-field="o.bank_id.bank_acc_number"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.name">Account Name:
                                        <span t-field="o.company_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.bank_id.bank_id.name">Bank Name:
                                        <span t-field="o.bank_id.bank_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.bank_id.bank_id.bic">Swift Code:
                                        <span t-field="o.bank_id.bank_id.bic"/>
                                        <br/>
                                    </t>
                                </t>
                                <t t-if="not o.bank_id">
                                    <strong>Please make the payment to the following account:</strong>
                                    <br/>
                                    <br/>
                                    <span t-field="o.company_id.kg_bank_details"/>
                                </t>
                            </td>
                        </t>


                    </tr>
                    <!--                        <t t-if="o.bank_id">-->
                    <!--                            <strong>Please make the payment to the following account:</strong><br/><br/>-->
                    <!--                            <t t-if="o.bank_id.bank_acc_number">Account No:<span t-field="o.bank_id.bank_acc_number"/><br/></t>-->
                    <!--                            <t t-if="o.company_id.name">Account Name:<span t-field="o.company_id.name"/><br/></t>-->
                    <!--                            <t t-if="o.bank_id.bank_id.name">Bank Name:<span t-field="o.bank_id.bank_id.name"/><br/></t>-->
                    <!--                            <t t-if="o.bank_id.bank_id.bic">Swift Code:<span t-field="o.bank_id.bank_id.bic"/><br/></t>-->
                    <!--                        </t>-->
                    <!--                        <t t-if="not o.bank_id">-->
                    <!--                          <strong>Please make the payment to the following account:</strong><br/><br/>-->
                    <!--                          <span t-field="o.company_id.kg_bank_details"/>-->
                    <!--                        </t>-->
                </table>
                <br/>
                <div class="col-xs-12" style="font-size:16px;">
                    <div class="col-xs-6">

                    </div>
                    <div class="col-xs-6" style="float: right">
                        <br/>
                        <br/>
                        <br/>
                        <strong>Authorized Signatory</strong>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="kg_invoice_with_header">
        <t t-call="web.html_container"/>
        <t t-foreach="request.env['account.move'].search([('id','=',form['invoice_id'][0])])" t-as="o">
            <t t-if="form['report_type']=='with'">
                <t t-call="kg_curr_conv.report_invoice_with_header" t-lang="o.partner_id.lang"/>
            </t>
            <t t-if="form['report_type']=='without'">
                <t t-call="kg_curr_conv.report_invoice_without_header" t-lang="o.partner_id.lang"/>
            </t>
        </t>
    </template>


    <!--    <template id="kg_print_and_send_invoice_header">-->
    <!--        <t t-call="web.html_container"/>-->
    <!--        <t t-foreach="docs" t-as="o">-->
    <!--                <t t-call="kg_curr_conv.report_invoice_with_header" t-lang="o.partner_id.lang"/>-->
    <!--        </t>-->
    <!--    </template>-->
</odoo>
