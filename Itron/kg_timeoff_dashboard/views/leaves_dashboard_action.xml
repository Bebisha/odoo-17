<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="advanced_timeoff_dashboard_action" model="ir.actions.client">
        <field name="name">Timeoff Report</field>
        <field name="tag">leaves_dashboard</field>
    </record>

    <record id="action_employee_sick_leave_tree" model="ir.actions.act_window">
        <field name="name">Employee Leaves</field>
        <field name="res_model">hr.leave</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="hr_holidays.hr_leave_view_tree"/>
    </record>

    <record id="hr_leave_view_form_manager_inherit" model="ir.ui.view">
        <field name="name">hr.leave.view.form.manager.inherit</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_form_manager"/>
        <field name="arch" type="xml">
            <header>
                <field name="is_go_back"/>
                <button string="Back" type="object" name="action_go_back" class="btn-primary" icon="fa-arrow-left"
                        invisible="is_go_back == False "/>

            </header>
        </field>
    </record>
    <template id="employee_casual_leave_template" name="Employee Casual Leave">-->
        <t t-call="website.layout">
            <div class="container mt-4">
                <h2>Leave Details for
                    <t t-esc="employee.name"/>
                </h2>
                <t t-if="leave_records">
                    <table class="table table-striped">
                        <thead>
                            <tr align="center">
                                <th>Employee</th>
                                <th>Timeoff Type</th>
                                <th>Company</th>
                                <th>Date From</th>
                                <th>Date To</th>
                                <th>Number of Days</th>
                                <th>Reason</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="leave_records" t-as="leave">
                                <tr align="center">
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.employee_id.name"/>
                                        </a>
                                    </td>
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.holiday_status_id.name"/>
                                        </a>
                                    </td>
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.company_id.name"/>
                                        </a>
                                    </td>
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.date_from"/>
                                        </a>
                                    </td>
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.date_to"/>
                                        </a>
                                    </td>
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.number_of_days"/>
                                        </a>
                                    </td>
                                    <td>
                                        <a t-att-href="'/web#id=%d&amp;model=hr.leave&amp;view_type=form' % leave.id"
                                           class="text-decoration-none">
                                            <t t-esc="leave.name or 'N/A'"/>
                                        </a>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
                <t t-else="">
                    <p>No leave records found for the current year.</p>
                </t>
                <!-- Back button -->
                <a href="#" onclick="history.back();" class="btn btn-secondary">Back</a>
            </div>
        </t>
    </template>
</odoo>